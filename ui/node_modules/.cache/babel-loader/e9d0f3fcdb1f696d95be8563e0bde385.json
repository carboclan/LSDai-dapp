{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar render = function render(className, url, origin) {\n  var query = className || '.trezor-webusb-button';\n  var buttons = document.querySelectorAll(query);\n  var src = url + \"?\" + Date.now();\n  buttons.forEach(function (b) {\n    if (b.getElementsByTagName('iframe').length < 1) {\n      var bounds = b.getBoundingClientRect();\n      var btnIframe = document.createElement('iframe');\n      btnIframe.frameBorder = '0';\n      btnIframe.width = Math.round(bounds.width) + 'px';\n      btnIframe.height = Math.round(bounds.height) + 'px';\n      btnIframe.style.position = 'absolute';\n      btnIframe.style.top = '0px';\n      btnIframe.style.left = '0px';\n      btnIframe.style.zIndex = '1'; // btnIframe.style.opacity = '0'; // this makes click impossible on cross-origin\n\n      btnIframe.setAttribute('allow', 'usb');\n      btnIframe.setAttribute('scrolling', 'no');\n\n      btnIframe.onload = function () {\n        btnIframe.contentWindow.postMessage({// style: JSON.stringify( window.getComputedStyle(b) ),\n          // outer: b.outerHTML,\n          // inner: b.innerHTML\n        }, origin);\n      };\n\n      btnIframe.src = src; // inject iframe into button\n\n      b.append(btnIframe);\n    }\n  });\n};\n\nvar _default = render;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}